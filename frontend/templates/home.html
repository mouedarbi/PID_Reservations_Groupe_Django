{% extends "base.html" %}
{% load static %}

{% block content %}
    <!-- Hero Section - Compact -->
    <section class="hero">
        <div class="hero-container">
            <div class="hero-content">
                <h1>R√©servez vos billets pour les meilleurs √©v√©nements</h1>
                <p>Concerts, th√©√¢tre, spectacles et bien plus encore</p>
            </div>
        </div>
    </section>

    <!-- Search Section -->
    <section class="search-section">
        <div class="search-container">
            <div class="search-box">
                <input type="text" class="search-input" placeholder="Rechercher un spectacle, artiste ou lieu...">
                <div class="search-filters">
                    <select class="filter-select">
                        <option>Tous les genres</option>
                        <option>Concert</option>
                        <option>Th√©√¢tre</option>
                        <option>Danse</option>
                        <option>Com√©die</option>
                    </select>
                    <select class="filter-select">
                        <option>Toutes les dates</option>
                        <option>Ce week-end</option>
                        <option>Cette semaine</option>
                        <option>Ce mois-ci</option>
                    </select>
                    <button class="btn-primary">Rechercher</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories - Quick Filters -->
    <section class="categories-section">
        <div class="categories-container">
            <div class="categories-grid">
                <div class="category-pill active">
                    <span>üé´</span>
                    <span>Tous les √©v√©nements</span>
                </div>
                <div class="category-pill">
                    <span>üé∏</span>
                    <span>Concerts</span>
                </div>
                <div class="category-pill">
                    <span>üé≠</span>
                    <span>Th√©√¢tre</span>
                </div>
                <div class="category-pill">
                    <span>üíÉ</span>
                    <span>Danse</span>
                </div>
                <div class="category-pill">
                    <span>üòÇ</span>
                    <span>Com√©die</span>
                </div>
                <div class="category-pill">
                    <span>üé™</span>
                    <span>Festivals</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Shows Grid - DYNAMIC CONTENT -->
    <section class="shows-section">
        <div class="section-header">
            <h2>√âv√©nements √† venir</h2>
            <p>R√©servez vos billets d√®s maintenant</p>
        </div>
                <div class="shows-grid">
                    {% if shows %}
                        {% for show in shows %}
                        <a href="{% url 'frontend:show_detail' show.id %}" class="show-card-link">
                            <div class="show-card">
                                <div class="show-image">
                                    <img src="{{ show.poster_url|default:'https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=600&h=400&fit=crop' }}" 
                                         alt="{{ show.title }}">
                                    {% if show.bookable %}
                                    <span class="show-badge">Disponible</span>
                                    {% else %}
                                    <span class="show-badge" style="background: #666;">Complet</span>
                                    {% endif %}
                                </div>
                                <div class="show-info">
                                    <div class="show-category">
                                        {% if show.artist_types %}
                                            {% for artist_type in show.artist_types %}
                                                {{ artist_type.name }}{% if not forloop.last %}, {% endif %}
                                            {% endfor %}
                                        {% else %}
                                            Non cat√©goris√©
                                        {% endif %}
                                    </div>
                                    <h3 class="show-title">{{ show.title }}</h3>
                                    <div class="show-location">
                                        <span>üìç</span>
                                        <span>
                                            {% if show.location %}
                                                {{ show.location.designation|default:show.location.address|default:show.location.slug }}
                                            {% else %}
                                                Lieu inconnu
                                            {% endif %}
                                        </span>
                                    </div>
                                    <div class="show-meta">
                                        <div>
                                            <div class="show-date">{{ show.next_representation_date|date:"d M Y"|default:'Date inconnue' }}</div>
                                        </div>
                                        <div class="show-price">{{ show.price|default:'N/A' }}‚Ç¨</div>
                                    </div>
                                </div>
                            </div>
                        </a>
                        {% endfor %}
                    {% else %}
                        <p>Aucun spectacle disponible pour le moment.</p>
                    {% endif %}
                </div>
            </section>
        
            <style>
                .show-card-link {
                    text-decoration: none;
                    color: inherit;
                    display: block;
                    transition: transform 0.3s ease;
                }
                .show-card-link:hover {
                    transform: translateY(-5px);
                }
            </style>
        {% endblock %}